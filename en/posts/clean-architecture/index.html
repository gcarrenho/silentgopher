<!doctype html><html lang=es data-theme><head><meta charset=UTF-8><title>Part 1: Understanding Clean Architecture Beyond the Diagram</title><link rel=stylesheet href=/scss/main.min.c6663d93d404c52f5be37021224d6c75bb16a53200683e3143b1d6ccb9b93505.css integrity="sha256-xmY9k9QExS9b43AhIk1sdbsWpTIAaD4xQ7HWzLm5NQU="><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel=stylesheet></head><body data-post-id=clean-architecture class=post-page><header class=main-header><img src=/images/posts/clean-architecture.jpg alt="Part 1: Understanding Clean Architecture Beyond the Diagram" class=header-gopher>
<button class=theme-toggle aria-label="Cambiar tema">🌙</button></header><nav style=text-align:center;margin-top:1rem><a href=/></a>|
<a href=/posts></a>|
<a href=/about></a></nav><main class=medium-article><article><h1>Part 1: Understanding Clean Architecture Beyond the Diagram</h1><h2 class=subtitle>Clean Architecture</h2><div class=engagement-stats><span class=stat-item>⏱️ <span class=minutes>6</span> min
</span>•
<span class=stat-item>👁️ <span id=view-count>0</span>
</span>•
<button id=clap-btn class=clap-button aria-label="Aplaudir este artículo">
👏 <span id=clap-count>0</span>
</button>
•
<button id=comment-btn class=comment-button aria-label="Comentar este artículo">
💬 <span id=comment-count>0</span></button></div></div><p class=meta-info>June 13, 2025 — @SilentGopher</p><div class=content><blockquote><p>⚠️ Warning: This isn’t another theoretical article with pretty diagrams that only work in PowerPoint.
I’ll talk about failures, how my first attempts with Clean Architecture were a disaster, and the solution that finally worked in real projects (with deadlines, impatient bosses, and requirements that change every Tuesday).</p></blockquote><h2 id=-why-am-i-writing-this>🚀 Why Am I Writing This?</h2><p>A few years ago, in my first &ldquo;serious&rdquo; Go project, I made every possible mistake:</p><ol><li><p><strong>Architectural Blindness</strong>: I thought putting everything in /internal automatically made my code &ldquo;clean.&rdquo; Spoiler: It didn’t.</p></li><li><p><strong>Overengineering</strong>: I implemented a Hexagonal structure so &ldquo;pure&rdquo; that even HelloWorld needed 7 files.</p></li><li><p><strong>Hidden Coupling</strong>: My interfaces were so big they looked like Java classes.</p></li></ol><p><strong>This is the article I wish I’d read before wasting 3 months on endless refactors.</strong></p><h2 id=-clean-architecture-theory-vs-my-reality>🔪 Clean Architecture: Theory vs. My Reality</h2><p>The theory says:</p><blockquote><p>&ldquo;Separate domains, use interfaces, blah blah.&rdquo;</p></blockquote><p>My reality was:</p><blockquote><p>&ldquo;Why does my UserService know how to persist a PDF in S3? Who wrote this code?… Oh, it was me. 💀&rdquo;</p></blockquote><h2 id=the-3-approaches-i-tried-and-how-they-bit-me>The 3 Approaches I Tried (And How They Bit Me)</h2><h3 id=1-package-by-layer-the-classic-layer-graveyard>1. Package by Layer: The Classic &ldquo;Layer Graveyard&rdquo;</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>/</span><span style=color:#a6e22e>handlers</span><span style=color:#f92672>/</span>   <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Chaos</span> <span style=color:#a6e22e>lives</span> <span style=color:#a6e22e>here</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>/</span><span style=color:#a6e22e>services</span><span style=color:#f92672>/</span>   <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#e6db74>&#34;Domain&#34;</span> <span style=color:#a6e22e>logic</span> <span style=color:#a6e22e>mixed</span> <span style=color:#a6e22e>with</span> <span style=color:#a6e22e>HTTP</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>/</span><span style=color:#a6e22e>repositories</span><span style=color:#f92672>/</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Why</span> <span style=color:#a6e22e>does</span> <span style=color:#a6e22e>this</span> <span style=color:#a6e22e>method</span> <span style=color:#a6e22e>have</span> <span style=color:#ae81ff>20</span> <span style=color:#a6e22e>parameters</span><span style=color:#960050;background-color:#1e0010>?</span>  
</span></span></code></pre></div><p><strong>The Good</strong>:</p><ul><li><p>Everyone understands it (at first).</p></li><li><p>Ideal if your team comes from Java/Spring.</p></li></ul><p><strong>The Bad</strong>:</p><ul><li><p>In 6 months, your UserService ends up with 3000 lines and hidden dependencies.</p></li><li><p>Real Experience: I once spent 2 days debugging a nil pointer because a handler called a repository directly, skipping 3 layers.</p></li></ul><h3 id=2-package-by-feature-the-every-man-for-himself-approach>2. Package by Feature: The &ldquo;Every Man for Himself&rdquo; Approach</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>/</span><span style=color:#a6e22e>users</span><span style=color:#f92672>/</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>/</span><span style=color:#a6e22e>payments</span><span style=color:#f92672>/</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>/</span><span style=color:#a6e22e>reports</span><span style=color:#f92672>/</span>  <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Home</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>God</span> <span style=color:#a6e22e>Object</span> <span style=color:#a6e22e>that</span> <span style=color:#a6e22e>does</span> <span style=color:#a6e22e>EVERYTHING</span>  
</span></span></code></pre></div><p><strong>The Good</strong>:</p><ul><li><p>Looks tidy at first glance.</p></li><li><p>Teams can work on separate &ldquo;features.&rdquo;</p></li></ul><p><strong>The Bad</strong>:</p><ul><li><p><strong>Duplication Hell</strong>: In one project, we had 5 different implementations of SendEmail() because each feature had its own logic.</p></li><li><p><strong>Vampire Dependencies</strong>: The payments module internally imported users.Model, and when we changed the DB, everything blew up.</p></li></ul><p>(Pro tip: If you see import &ldquo;../users&rdquo; in your code, light a candle. It’s already too late.)</p><h3 id=3-hexagonal-architecture-when-theory-collides-with-practice>3. Hexagonal Architecture: When theory collides with practice</h3><p>The theory promised:</p><blockquote><p>&ldquo;Pure domain, swappable adapters, eternal happiness.&rdquo;</p></blockquote><p>My implementation looked like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>/</span><span style=color:#a6e22e>internal</span><span style=color:#f92672>/</span>  
</span></span><span style=display:flex><span>  <span style=color:#f92672>/</span><span style=color:#a6e22e>core</span><span style=color:#f92672>/</span>       <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Where</span> <span style=color:#a6e22e>the</span> <span style=color:#e6db74>&#34;domain&#34;</span> <span style=color:#a6e22e>lived</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>/</span><span style=color:#a6e22e>domain</span><span style=color:#f92672>/</span>   <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Ended</span> <span style=color:#a6e22e>up</span> <span style=color:#a6e22e>with</span> <span style=color:#ae81ff>50</span> <span style=color:#a6e22e>coupled</span> <span style=color:#e6db74>&#34;entities&#34;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>/</span><span style=color:#a6e22e>ports</span><span style=color:#f92672>/</span>    <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Interfaces</span> <span style=color:#a6e22e>with</span> <span style=color:#ae81ff>100</span> <span style=color:#a6e22e>methods</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>/</span><span style=color:#a6e22e>services</span><span style=color:#f92672>/</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Logic</span> <span style=color:#a6e22e>mixed</span> <span style=color:#a6e22e>with</span> <span style=color:#a6e22e>infrastructure</span>  
</span></span><span style=display:flex><span>  <span style=color:#f92672>/</span><span style=color:#a6e22e>adapters</span><span style=color:#f92672>/</span>   <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Where</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>ORM</span> <span style=color:#a6e22e>sneaked</span> <span style=color:#a6e22e>into</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>domain</span>  
</span></span></code></pre></div><p><strong>What Went Wrong?</strong></p><ul><li><p><strong>The Team Didn’t Get It</strong>: New devs called the repository from the handler because &ldquo;it was faster.&rdquo;</p></li><li><p><strong>Testing Was Impossible</strong>: Mocking 10 interfaces for a simple use case.</p></li><li><p><strong>Result</strong>: A &ldquo;Clean Architecture&rdquo; that was actually a monolith with unnecessary abstraction layers.</p></li></ul><h2 id=-the-day-we-broke-the-architecture-by-accident>💥 The Day We Broke the Architecture (By Accident)</h2><p>Or: &ldquo;Why Juan on the Team Hates Me After That PR&rdquo;</p><p>Context: A few months ago, during a normal sprint, a new teammate (let’s call him Juan) got this task:</p><blockquote><p>&ldquo;We need an endpoint <code>/orders/user/{id}</code> to return orders. It’s urgent for the client!&rdquo;</p></blockquote><p>Juan, being efficient, saw that there was already an <code>OrderRepository</code> with the perfect method:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>FindByUserID</span>(<span style=color:#a6e22e>userID</span> <span style=color:#66d9ef>string</span>) ([]<span style=color:#a6e22e>Order</span>, <span style=color:#66d9ef>error</span>)  
</span></span></code></pre></div><p>So he wrote this in the handler:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>h</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>OrderHandler</span>) <span style=color:#a6e22e>GetOrdersByUser</span>(<span style=color:#a6e22e>w</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ResponseWriter</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Request</span>) {  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>userID</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>chi</span>.<span style=color:#a6e22e>URLParam</span>(<span style=color:#a6e22e>r</span>, <span style=color:#e6db74>&#34;id&#34;</span>)  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>orders</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>h</span>.<span style=color:#a6e22e>orderRepo</span>.<span style=color:#a6e22e>FindByUserID</span>(<span style=color:#a6e22e>userID</span>) <span style=color:#75715e>// &lt;- Direct access!  </span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ... (error handling and response)  </span>
</span></span><span style=display:flex><span>}  
</span></span></code></pre></div><p><strong>It seemed innocent&mldr; until the problems started</strong>:</p><p>🤯 What Went Wrong?</p><ol><li><p><strong>Forgotten Business Rules</strong>:
Orders were supposed to be filtered by status != &ldquo;canceled&rdquo;, but since he went straight to the repo, the client saw inconsistent data.</p></li><li><p><strong>Hidden Coupling</strong>:</p><ul><li><p>The handler now depended on:</p></li><li><p>The repository’s signature.</p></li><li><p>The Order struct from the DB (which included internal fields like internal_notes).</p></li></ul></li><li><p><strong>Testing Nightmare</strong>:
He had to mock the DB&mldr; just to test a handler.</p></li></ol><h2 id=-diagnosis-we-violated-hexagonal-architecture>🔍 Diagnosis: We Violated Hexagonal Architecture</h2><p>(Without realizing it)</p><p>The theoretical diagram said:</p><blockquote><p>&ldquo;Handlers (adapters) must talk to the domain (services), NOT to infrastructure (repositories).&rdquo;</p></blockquote><p>But in practice:</p><ul><li><p><strong>The repo sneaked into the handler</strong> as a shortcut.</p></li><li><p><strong>The domain was left out of the conversation</strong> (no one used OrderService).</p></li></ul><h2 id=-the-solution-contracts-not-coupling>💡 The Solution: Contracts, Not Coupling</h2><p>🚫 Common Mistake (We’ve All Made It):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// payments/module.go  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Payment</span> <span style=color:#66d9ef>struct</span> {  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>User</span> <span style=color:#a6e22e>users</span>.<span style=color:#a6e22e>UserEntity</span> <span style=color:#75715e>// &lt;- Direct coupling to users&#39; entity!  </span>
</span></span><span style=display:flex><span>}  
</span></span></code></pre></div><p><strong>Problem</strong>: If UserEntity changes, payments breaks.</p><p>✅ The Fix We Implemented:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// contracts/user.go  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>UserDTO</span> <span style=color:#66d9ef>struct</span> {  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ID</span>    <span style=color:#66d9ef>string</span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Email</span> <span style=color:#66d9ef>string</span> <span style=color:#75715e>// Only what we need  </span>
</span></span><span style=display:flex><span>}  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// payments/module.go  </span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Payment</span> <span style=color:#66d9ef>struct</span> {  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>User</span> <span style=color:#a6e22e>contracts</span>.<span style=color:#a6e22e>UserDTO</span> <span style=color:#75715e>// &lt;- Coupling to CONTRACT!  </span>
</span></span><span style=display:flex><span>}  
</span></span></code></pre></div><p><strong>Simple Rule</strong>:</p><blockquote><p>&ldquo;If module A uses something from B, B must expose it explicitly in its contract.
Like a public API: if it’s not documented, it doesn’t exist.&rdquo;</p></blockquote><h2 id=-the-solution-that-worked-for-me-components--contracts>💡 The Solution That Worked for Me: Components + Contracts</h2><p>After getting burned, I learned that:<br>✅ Each component should be a &ldquo;mini-project&rdquo; (with its own domain, logic, and adapters).<br>✅ Contracts are sacred (change one, and you break everything… like a public API).<br>✅ Go is simple; your architecture should be too.</p><p>Final Structure We Used (Still Alive):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>/</span><span style=color:#a6e22e>cmd</span><span style=color:#f92672>/</span>
</span></span><span style=display:flex><span><span style=color:#f92672>/</span><span style=color:#a6e22e>internal</span><span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>/</span><span style=color:#a6e22e>users</span><span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>/</span><span style=color:#a6e22e>adapters</span><span style=color:#f92672>/</span>     <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Contracts</span> <span style=color:#a6e22e>implementation</span>.
</span></span><span style=display:flex><span>    <span style=color:#f92672>/</span><span style=color:#a6e22e>models</span><span style=color:#f92672>/</span>      <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Only</span> <span style=color:#a6e22e>small</span> <span style=color:#a6e22e>structs</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>users_component</span>.<span style=color:#66d9ef>go</span>     <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>PURE</span> <span style=color:#a6e22e>business</span> <span style=color:#a6e22e>logic</span> <span style=color:#a6e22e>interfaces</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>users_component_impl</span>.<span style=color:#66d9ef>go</span>  <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>PURE</span> <span style=color:#a6e22e>business</span> <span style=color:#a6e22e>logic</span> <span style=color:#a6e22e>implementation</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>users_repository</span>.<span style=color:#66d9ef>go</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Private</span> <span style=color:#a6e22e>persistence</span> <span style=color:#66d9ef>interface</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>users_repository_impl</span>.<span style=color:#66d9ef>go</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Private</span> <span style=color:#a6e22e>implementation</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>persistence</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>DB</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>/</span><span style=color:#a6e22e>contracts</span><span style=color:#f92672>/</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>/</span><span style=color:#a6e22e>users</span><span style=color:#f92672>/</span>         <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>What</span> <span style=color:#a6e22e>OTHER</span> <span style=color:#a6e22e>components</span> <span style=color:#a6e22e>can</span> <span style=color:#a6e22e>use</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>service</span>.<span style=color:#66d9ef>go</span>    <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>Interface</span> <span style=color:#a6e22e>with</span> <span style=color:#ae81ff>3</span> <span style=color:#a6e22e>methods</span>, <span style=color:#a6e22e>not</span> <span style=color:#ae81ff>20.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>/</span><span style=color:#a6e22e>web</span><span style=color:#f92672>/</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>entry</span> <span style=color:#a6e22e>point</span> <span style=color:#a6e22e>controllers</span><span style=color:#f92672>/</span><span style=color:#a6e22e>handlers</span> <span style=color:#a6e22e>that</span> <span style=color:#a6e22e>only</span> <span style=color:#a6e22e>communicate</span> <span style=color:#a6e22e>with</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>service</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>each</span> <span style=color:#a6e22e>component</span>.
</span></span></code></pre></div><p><strong>Golden Rule</strong>:</p><blockquote><p>&ldquo;If a component needs something from another, don’t ask how it works. Request it in the contract and move on.&rdquo;</p></blockquote><p>(Real example: When we migrated from MySQL to PostgreSQL, we only touched adapters/. The domain didn’t even notice.)</p><h2 id=-conclusion-clean-architecture-isnt-a-religion>🎤 Conclusion: Clean Architecture Isn’t a Religion</h2><ul><li><p><strong>Don’t use it if</strong>: Your project is an MVP or your team is junior.</p></li><li><p><strong>Use it well if</strong>: You need to scale, maintain, and sleep at night.</p></li><li><p><strong>My Biggest Mistake</strong>: Thinking &ldquo;following the diagram to the letter&rdquo; was enough. The key is defining clear contracts and enforcing boundaries.</p></li></ul><blockquote><p>&ldquo;Clean architecture isn’t about perfect folders—it’s about being able to change your mind without fear of everything exploding.&rdquo;</p></blockquote><p>🚀 In Part 2: I’ll show you the REAL code (with mistakes included) of how we implemented this in a 100k-line Go project.</p><p>(And yes, there’ll be examples of how our &ldquo;wonderful&rdquo; PaymentService contract had to change 3 times… and how we survived it.)</p><p>📢 Have you struggled with Clean Architecture too?
Let me know in the comments.</p><h2 id=-referencias>📚 Referencias</h2><ul><li><a href=https://a.co/d/a3ALlXM>Clean Architecture - Robert C. Martin</a></li></ul></div></div><section class=all-comments><div class=comments-header><h3>Conversación</h3><div class=comment-count>💬 <span id=comment-count-section>0</span> comentarios</div></div><div id=login-container class=login-container style=display:none><p>Debes iniciar sesión con GitHub para comentar</p><button id=login-github-btn class=login-github-btn>
<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right:8px"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.166 6.839 9.489.5.09.682-.218.682-.482.0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943.0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647.0.0.84-.269 2.75 1.025A9.578 9.578.0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.202 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683.0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852.0 1.336-.012 2.415-.012 2.743.0.267.18.578.688.48C19.138 20.163 22 16.418 22 12c0-5.523-4.477-10-10-10z"/></svg>
Iniciar sesión con GitHub</button></div><form id=main-comment-form class=comment-form style=display:none><div class=avatar-placeholder><img id=main-user-avatar-img src="https://www.gravatar.com/avatar/?d=mp&s=40" class=avatar-img></div><div class=form-content><textarea placeholder="Escribe tu comentario..." rows=3 required></textarea><div class=form-actions><button type=submit class=submit-button>Publicar</button></div></div><input type=hidden id=reply-to></form></section></article></main><script>document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".theme-toggle"),n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme");t==="dark"||!t&&n?(document.documentElement.setAttribute("data-theme","dark"),e.forEach(e=>e.textContent="☀️")):(document.documentElement.setAttribute("data-theme","light"),e.forEach(e=>e.textContent="🌙")),e.forEach(t=>{t.addEventListener("click",()=>{const t=document.documentElement.getAttribute("data-theme");t==="light"?(document.documentElement.setAttribute("data-theme","dark"),e.forEach(e=>e.textContent="☀️"),localStorage.setItem("theme","dark")):(document.documentElement.setAttribute("data-theme","light"),e.forEach(e=>e.textContent="🌙"),localStorage.setItem("theme","light"))})}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{if(!localStorage.getItem("theme")){const n=t.matches?"dark":"light";document.documentElement.setAttribute("data-theme",n),e.forEach(e=>e.textContent=n==="dark"?"☀️":"🌙")}})})</script><script>const postId="posts/clean-architecture.md",countKey=`claps-${postId}`,countDisplay=document.getElementById("clap-count"),button=document.getElementById("clap-button"),saved=localStorage.getItem(countKey);let count=saved?parseInt(saved):0;countDisplay&&(countDisplay.textContent=count),button&&button.addEventListener("click",()=>{count+=1,countDisplay.textContent=count,localStorage.setItem(countKey,count)})</script><script>window.PUBLIC_SUPABASE_URL="https://hnshpzakudamqqauqqqe.supabase.co",window.PUBLIC_SUPABASE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhuc2hwemFrdWRhbXFxYXVxcXFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3NTEwOTgsImV4cCI6MjA2ODMyNzA5OH0.3P9rwWs8hbXBCpvX0ddfMH6p0GzVVrjfOCx-xTaMgd8"</script><script type=module src=/js/main.js></script></body></html>